---
// src/layouts/Layout.astro

// 1. Import the fonts
import '@fontsource/inter';
import '@fontsource/inter/500.css';
import '@fontsource/inter/600.css';
import '@fontsource/inter/700.css';
import '@fontsource/plus-jakarta-sans';
import '@fontsource/plus-jakarta-sans/600.css';
import '@fontsource/plus-jakarta-sans/700.css';
import '@fontsource/plus-jakarta-sans/800.css';

// 2. Import global styles
import '../styles/global.css';

interface Props {
	title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en" class="scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		
		<script src="https://unpkg.com/lucide@latest"></script>
	</head>
	
	<body class="antialiased bg-mesh min-h-screen text-slate-900">
		<slot />

		<script is:inline>
			function initIcons() {
				// Check if the library is loaded
				if (window.lucide) {
					window.lucide.createIcons();
				} else {
					// If not ready, wait 100ms and try again
					setTimeout(initIcons, 100);
				}
			}
			
			// Start checking when the DOM is ready
			document.addEventListener('DOMContentLoaded', initIcons);
            
            // Also try immediately in case it's already cached
            initIcons();
		</script>
	</body>
</html>